PROGRAM EWALDTEST

IMPLICIT NONE

  real :: t1(3), t2(3), t3(3)
  integer  :: nion
  real, allocatable :: q(:), tau(:,:)

  real :: ewald

  Write(6,*) ' Enter T1x, T1y, T1z in bohr units'
  Read(5,*) t1(1),t1(2),t1(3)
  Write(6,*) ' Enter T2x, T2y, T2z in bohr units'
  Read(5,*) t2(1),t2(2),t2(3)
  Write(6,*) ' Enter T3x, T3y, T3z in bohr units'
  Read(5,*) t3(1),t3(2),t3(3)
  
  Write(6,*) 'Input total number of ions in unit cell'
  Read(5,*) nion

  
  Allocate(q(nion),tau(3,nion))

  Write(6,*) 'For each ion, input q and tau (in fractional coordinates of T)'

  do i=1,nion
    read(5,*) q(i),tau(1,i),tau(2,i),tau(3,i)
  enddo

  EWALD(t1,t2,t3,q,tau,nion,ewald)

  
  
